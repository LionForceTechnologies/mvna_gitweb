(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[12],{576:function(e,t,a){"use strict";a.r(t);var n=a(24),c=a(0),l=a.n(c),o=a(10),i=a(541),r=a(117),s=a(72),u=a(545),m=a(70),d=a(540),b=a(581),f=(a(190),a(58)),O=a(172),j=a.n(O);t.default=function(e){var t=Object(o.e)((function(e){return e.crud.role_id})),a=Object(o.e)((function(e){return e.crud.deleted})),O=Object(c.useState)(""),g=Object(n.a)(O,2),E=g[0],h=g[1],x=Object(c.useState)(0),p=Object(n.a)(x,2),y=p[0],S=p[1],k=Object(c.useState)(0),w=Object(n.a)(k,2),C=w[0],v=w[1],F=Object(c.useState)(!1),N=Object(n.a)(F,2),B=N[0],R=N[1],I=Object(c.useState)(!1),A=Object(n.a)(I,2),T=A[0],q=A[1],D=Object(o.e)((function(e){return e.crud.getrole})),J=Object(o.d)(),K=i.a.useForm(),V=Object(n.a)(K,1)[0],_=Object(c.useState)(!1),z=Object(n.a)(_,2),G=z[0],H=z[1],L=Object(c.useState)(0),M=Object(n.a)(L,2),P=M[0],Q=M[1];function U(e){J(Object(f.gb)(e.target.getAttribute("data-id"))),S(1)}function W(e){q(e.target.getAttribute("data-id")),R(!0)}Object(c.useEffect)((function(){0===C&&J(Object(f.K)()),v(1)})),Object(c.useEffect)((function(){""!==t&&0!==y&&(V.setFieldsValue({role:t.data[0].role}),h(t.data[0].role),S(0))})),Object(c.useEffect)((function(){"success"==a&&0!=P&&(H(!0),J(Object(f.o)("")),Q(1))}));var X=[];return console.log("getroles"),console.log(D),D.length>0&&(X=D.map((function(e,t){return{role:e.role,action:l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{display:"flex"}},l.a.createElement("i",{style:{marginRight:"7px",height:"15px"},onClick:U,"data-id":e.id,className:"icon icon-edit"}),l.a.createElement("i",{"data-id":e.id,onClick:W,style:{height:"15px"},className:"icon icon-trash"}))),index:e.id,key:e.id}}))),l.a.createElement("div",null,l.a.createElement(i.a,{form:V,initialValues:{remember:!0},name:"basic",onFinish:function(e){""==t?J(Object(f.db)({role:E})):""!=t&&(J(Object(f.pb)({role:E,id:t.data[0].id})),S(0),J(Object(f.k)(""))),V.resetFields()},onFinishFailed:function(e){console.log("Failed:",e)},className:"gx-signin-form gx-form-row0"},l.a.createElement(r.a,null,l.a.createElement(s.a,{className:"label",xl:3,lg:3,md:3,sm:24,xs:24},l.a.createElement("p",null,"Create Role")),l.a.createElement(s.a,{xl:5,lg:5,md:5,sm:24,xs:24},l.a.createElement(i.a.Item,{rules:[{required:!0,message:"Role is required"}],name:"role"},l.a.createElement(u.a,{value:E,onChange:function(e){h(e.target.value),console.log(D)},placeholder:"Role"}))),l.a.createElement(s.a,{xl:4,lg:4,md:4,sm:24,xs:24},l.a.createElement(i.a.Item,null,l.a.createElement(m.a,{type:"primary",className:"gx-mb-0",htmlType:"submit"},"Submit"))))),l.a.createElement(d.a,{title:"Roles"},l.a.createElement(b.a,{className:"gx-table-responsive",columns:[{title:"Role Name",dataIndex:"role",key:"role"},{title:"Action",dataIndex:"action",key:"action"}],dataSource:X})),l.a.createElement(j.a,{show:B,custom:!0,showCancel:!0,confirmBtnText:"OK",cancelBtnText:"Cancel",confirmBtnBsStyle:"primary",cancelBtnBsStyle:"default",title:"Do you want to delete?",onConfirm:function(){R(!1),J(Object(f.fb)({id:T,status:2})),Q(1)},onCancel:function(){R(!1)}}),l.a.createElement(j.a,{show:G,success:!0,title:"Deleted Successfully",onConfirm:function(){H(!1)}}))}}}]);
//# sourceMappingURL=12.563e995f.chunk.js.map