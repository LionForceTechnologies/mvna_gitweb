(this["webpackJsonpwieldy-hook"]=this["webpackJsonpwieldy-hook"]||[]).push([[14],{577:function(e,t,a){"use strict";a.r(t);var n=a(141),l=a(24),c=a(0),r=a.n(c),i=a(10),o=a(541),m=a(147),s=a(117),u=a(72),d=a(545),b=a(70),O=a(540),j=a(581),g=(a(190),a(58)),f=a(172),E=a.n(f);t.default=function(e){var t=Object(i.e)((function(e){return e.crud.ucreationid})),a=Object(i.e)((function(e){return e.crud.deleteducreation})),f=Object(i.e)((function(e){return e.crud.getrole})),h=Object(i.e)((function(e){return e.crud.ucreation})),p=Object(c.useState)(""),x=Object(l.a)(p,2),y=x[0],v=x[1],S=Object(c.useState)(""),w=Object(l.a)(S,2),C=w[0],k=w[1],q=Object(c.useState)(""),I=Object(l.a)(q,2),F=I[0],N=I[1],_=Object(c.useState)(""),B=Object(l.a)(_,2),T=B[0],R=B[1],A=Object(c.useState)(""),K=Object(l.a)(A,2),P=K[0],D=K[1],J=Object(c.useState)(""),U=Object(l.a)(J,2),V=U[0],Q=U[1],z=Object(c.useState)(0),G=Object(l.a)(z,2),H=G[0],L=G[1],M=Object(c.useState)(!1),W=Object(l.a)(M,2),X=W[0],Y=W[1],Z=Object(c.useState)(!1),$=Object(l.a)(Z,2),ee=$[0],te=$[1],ae=Object(i.e)((function(e){return e.crud.getrole})),ne=Object(i.d)(),le=o.a.useForm(),ce=Object(l.a)(le,1)[0],re=Object(c.useState)(!1),ie=Object(l.a)(re,2),oe=ie[0],me=ie[1],se=Object(c.useState)(0),ue=Object(l.a)(se,2),de=ue[0],be=ue[1],Oe=Object(c.useState)([]),je=Object(l.a)(Oe,2),ge=(je[0],je[1],Object(c.useState)("")),fe=Object(l.a)(ge,2),Ee=(fe[0],fe[1],Object(c.useState)(0)),he=Object(l.a)(Ee,2),pe=(he[0],he[1],m.a.Option);function xe(e){ne(Object(g.y)(e.target.getAttribute("data-id"))),Q(1)}function ye(e){te(e.target.getAttribute("data-id")),Y(!0)}Object(c.useEffect)((function(){0===H&&(ne(Object(g.K)()),ne(Object(g.Q)())),L(1)})),Object(c.useEffect)((function(){"success"==a&&0!=de&&(me(!0),ne(Object(g.f)("")),be(1))})),Object(c.useEffect)((function(){""!==t&&0!==V&&(ce.setFieldsValue({role:t.data[0].role,uname:t.data[0].name,contact:t.data[0].mobile_number,email:t.data[0].email}),N(t.data[0].name),v(t.data[0].role_id),R(t.data[0].mobile_number),D(t.data[0].email),Q(0))}));var ve=[];h.length>0&&(ve=h.map((function(e,t){return{email:e.email,name:e.name,role:e.role,action:r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement("i",{style:{marginRight:"7px",height:"15px"},onClick:xe,"data-id":e.id,className:"icon icon-edit"}),r.a.createElement("i",{"data-id":e.id,onClick:ye,style:{height:"15px"},className:"icon icon-trash"}))),index:e.id,key:e.id}})));var Se=[];return f.length>0&&(Se=f.map((function(e,t){return r.a.createElement(pe,{key:e.id,value:e.id},e.role)}))),r.a.createElement("div",null,r.a.createElement(o.a,{form:ce,initialValues:{remember:!0},name:"usercreation",onFinish:function(e){""==t?ne(Object(g.eb)({name:F,email:P,mobile_number:T,password:C,role_id:y})):""!=t&&(ne(Object(g.qb)({name:F,email:P,mobile_number:T,password:C,role_id:y,id:t.data[0].id})),Q(0),ne(Object(g.f)(""))),ce.resetFields()},onFinishFailed:function(e){console.log("Failed:",e)},className:"gx-signin-form gx-form-row0"},r.a.createElement(s.a,null,r.a.createElement(u.a,{xl:8,lg:8,md:8,sm:24,xs:24},r.a.createElement(o.a.Item,{rules:[{required:!0,message:"User Name is required"}],name:"uname"},r.a.createElement(d.a,{value:F,onChange:function(e){N(e.target.value),console.log(ae)},placeholder:"Name"}))),r.a.createElement(u.a,{xl:8,lg:8,md:8,sm:24,xs:24},r.a.createElement(o.a.Item,{rules:[{required:!0,message:"This field is required"}],name:"role"},r.a.createElement(m.a,{value:y,onChange:function(e){v(e)},placeholder:"Role"},Se))),r.a.createElement(u.a,{xl:8,lg:8,md:8,sm:24,xs:24},r.a.createElement(o.a.Item,{rules:[{required:!0,message:"Password is required"}],name:"pass"},r.a.createElement(d.a.Password,{value:C,onChange:function(e){k(e.target.value),console.log(ae)},autocomplete:"new-password",placeholder:"Password"})))),r.a.createElement(s.a,null,r.a.createElement(u.a,{xl:8,lg:8,md:8,sm:24,xs:24},r.a.createElement(o.a.Item,{rules:[{required:!0,message:"Contact is required"}],name:"contact"},r.a.createElement(d.a,{value:T,onKeyUp:function(e){e.target.value=e.target.value.replace(/[^0-9]/g,"")},onChange:function(e){R(e.target.value),console.log(ae)},placeholder:"Contact"}))),r.a.createElement(u.a,{xl:8,lg:8,md:8,sm:24,xs:24},r.a.createElement(o.a.Item,Object(n.a)({name:"email",rules:[{required:!0,type:"email",message:"The input is not valid E-mail!"}]},"name","email"),r.a.createElement(d.a,{value:P,onChange:function(e){D(e.target.value),console.log(ae)},placeholder:"Email"})))),r.a.createElement(u.a,{xl:4,lg:4,md:4,sm:24,xs:24},r.a.createElement(o.a.Item,null,r.a.createElement(b.a,{type:"primary",className:"gx-mb-0",htmlType:"submit"},"Submit")))),r.a.createElement(O.a,{title:"Roles"},r.a.createElement(j.a,{className:"gx-table-responsive",columns:[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role"},{title:"Action",dataIndex:"action",key:"action"}],dataSource:ve})),r.a.createElement(E.a,{show:X,custom:!0,showCancel:!0,confirmBtnText:"OK",cancelBtnText:"Cancel",confirmBtnBsStyle:"primary",cancelBtnBsStyle:"default",title:"Do you want to delete?",onConfirm:function(){Y(!1),ne(Object(g.t)({id:ee,status:2})),be(1)},onCancel:function(){Y(!1)}}),r.a.createElement(E.a,{show:oe,success:!0,title:"Deleted Successfully",onConfirm:function(){te(""),me(!1)}}))}}}]);
//# sourceMappingURL=14.1b249f9f.chunk.js.map